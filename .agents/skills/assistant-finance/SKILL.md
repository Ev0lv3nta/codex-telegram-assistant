---
name: assistant-finance
description: Учет расходов/доходов. Используй когда пользователь пишет про 'расход', 'доход', 'трата', 'бюджет', 'сколько я потратил', 'отчет за месяц' и т.п. Данные хранятся локально и переносимы.
---

# Финансы (Операции и отчеты)

## Цель

Учет доходов/расходов в простой локальной базе + быстрые отчеты, с человеческим следом в daily.

## Где храним (переносимо)

- База: `system/finance/finance.db` (SQLite)
- Правила/категории: `90_memory/finance_rules.md`
- След в дневнике: `01_capture/daily/YYYY-MM-DD.md`

## Поведение по умолчанию

- При записи операции: сохранить в БД И добавить короткую запись в daily (что/сколько/категория).
- Держи категории простыми и стабильными (не городи дерево на 200 пунктов).

## Минимальная схема (SQLite)

Если БД не существует, можно создать таблицу:

- `transactions(id INTEGER PRIMARY KEY, ts TEXT, amount REAL, currency TEXT, direction TEXT, counterparty TEXT, category TEXT, note TEXT, source TEXT)`
  - `direction`: `expense` или `income`

## Примеры отчетов

- Сумма трат по дням/неделям/месяцам
- Топ категорий за период
- Поиск по контрагенту/магазину
